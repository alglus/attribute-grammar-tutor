<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="bootstrap/bootstrap.min5.1.3.css">
    <link rel="stylesheet" href="jointJS/joint3.5.4.min.css"/>
    <title>Attribute Systems Tutor</title>
</head>
<body class="container">
<header>
    <h1>Attribute Systems Tutor</h1>
</header>
<main>
    <!-- Grammar text field -->
    <div class="input-group pt-4 mb-2">
        <span class="input-group-text">Attribute <br>Grammar</span>
        <textarea id="grammarText" class="form-control font-monospace" aria-label="Attribute Grammar" rows="5">
S -> A   : z[0] = z[1]; c[1] = 0
A -> s B : a[2] = y[2]; b[2] = c[0]; z[0] = x[2]
A -> t B : a[2] = c[0]; b[2] = x[2]; z[0] = y[2]
B -> u   : x[0] = a[0]; y[0] = b[0]
B -> v   : y[0] = x[0]; x[0] = 0</textarea>
    </div>

    <!-- Grammar buttons -->
    <button type="button" id="applyGrammarButton" class="btn btn-primary me-2">Apply</button>
    <button type="button" id="editGrammarButton" class="btn btn-secondary" disabled>Edit</button>

    <!-- Grammar errors -->
    <ul class="list-group pt-3" id="grammarErrorMessages"></ul>

    <!-- Local dependencies exercise -->
    <div id="dependenciesExercise" class="accordion pt-4">
        <div class="accordion-item">
            <h2 id="dependencies-heading" class="accordion-header">
                <button id="dependenciesCollapseBtn" class="accordion-button" type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#dependencies-collapse" aria-expanded="true"
                        aria-controls="dependencies-collapse">Local dependency graphs
                </button>
            </h2>
            <div id="dependencies-collapse" class="accordion-collapse collapse show"
                 aria-labelledby="dependencies-heading">
                <div class="accordion-body px-0">
                    <div class="container px-0">
                        <div id="dependencyGraphsRow" class="row px-0 gy-4">

                            <!-- Local dependency graph card -->
                            <div class="col-auto dependenciesGraphCard" data-index="0">
                                <div class="card">
                                    <div class="card-header dependenciesGraphCardHeader align-items-center"
                                         data-index="0">
                                        <h6 class="dependenciesGraphCardTitle" data-index="0">X -> X</h6>
                                        <button class="showGraphErrorsBtn btn btn-outline-danger btn-sm"
                                                aria-label="warning"
                                                data-index="0">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                 fill="currentColor" class="bi bi-exclamation-triangle-fill"
                                                 viewBox="0 0 16 16">
                                                <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                                            </svg>
                                        </button>
                                        <svg class="graphCorrectCheck bi bi-check-circle-fill" data-index="0"
                                             xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                             fill="currentColor" viewBox="0 0 16 16">
                                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                                        </svg>
                                    </div>

                                    <!-- new JointJS graph paper is inserted here -->

                                    <div class="graphErrors" data-index="0">
                                        <ul class="graphErrorMessages" data-index="0"></ul>
                                    </div>

                                    <div class="container text-center p-2 border-top">
                                        <button type="button" data-index="0"
                                                class="btn btn-outline-secondary btn-sm me-1 dependenciesCheckBtn">
                                            Check
                                        </button>
                                        <button type="button" data-index="0"
                                                class="btn btn-outline-secondary btn-sm me-1 dependenciesResetBtn">
                                            Reset
                                        </button>
                                        <button type="button" data-index="0"
                                                class="btn btn-outline-secondary btn-sm me-1 dependenciesDrawBtn">
                                            Draw tree
                                        </button>
                                        <button type="button" data-index="0"
                                                class="btn btn-outline-secondary btn-sm me-1 dependenciesSolutionBtn">
                                            Show
                                            solution
                                        </button>
                                        <button type="button" data-index="0"
                                                class="btn btn-outline-secondary dependenciesRecenterBtn">
                                            <svg class="bi" width="16" height="16" viewBox="0 0 16 16"
                                                 xmlns="http://www.w3.org/2000/svg">
                                                <path d="m13.188 14.118-1.8789-1.8821v2.5869h-1.2956l-0.0068-0.84422c-0.0037-0.46433-0.0068-1.5494-0.0068-2.4114l-5.7e-5 -1.5671h4.8248v1.3116h-2.5722l3.7474 3.7539-0.93307 0.93451z"
                                                      stroke-width=".54876" style="paint-order:stroke fill markers"/>
                                                <path d="m2.8118 1.8821 1.8789 1.8821v-2.5869h1.2956l0.00686 0.84422c0.003784 0.46433 0.006868 1.5494 0.006868 2.4114l-1.7e-6 1.5671h-4.8247v-1.3116h2.5722l-3.7474-3.7539 0.93307-0.93451z"
                                                      stroke-width=".54876" style="paint-order:stroke fill markers"/>
                                                <path d="m1.8821 13.188 1.8821-1.8788h-2.5869v-1.2956l0.84422-0.0069c0.46433-0.0038 1.5494-0.0069 2.4114-0.0069l1.5671 8.3e-5v4.8247h-1.3116v-2.5721l-3.7539 3.7474-0.93451-0.93306z"
                                                      stroke-width=".54876" style="paint-order:stroke fill markers"/>
                                                <path d="m14.118 2.8118-1.8821 1.8789h2.5869v1.2956l-0.84422 0.00686c-0.46433 0.00378-1.5494 0.00686-2.4114 0.00686l-1.5671 6.3e-6v-4.8247h1.3116v2.5722l3.7539-3.7474 0.93451 0.93307z"
                                                      stroke-width=".54876" style="paint-order:stroke fill markers"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Local dependencies ALL buttons -->
                <div class="container text-center p-4">
                    <button id="dependenciesCheckAllBtn" type="button" class="btn btn-outline-primary me-3">Check
                        all
                    </button>
                    <button id="dependenciesResetAllBtn" type="button" class="btn btn-outline-primary me-3">Reset
                        all
                    </button>
                    <button id="dependenciesDrawAllBtn" type="button" class="btn btn-outline-primary me-3">Draw all
                        trees
                    </button>
                    <button id="dependenciesAllSolutionsBtn" type="button" class="btn btn-outline-primary me-3">Show
                        all solutions
                    </button>
                </div>
            </div>
        </div>
    </div>
</main>
<footer>
    <div class="border-top text-center">
        <a href="#" class="text-muted">Impressum</a>
    </div>
</footer>


<script type="module" src="js/init.js"></script>
<script src="bootstrap/bootstrap.bundle.min5.1.3.js"></script>
<script src="jointJS/dependencies/jquery3.6.0.js"></script>
<script src="jointJS/dependencies/lodash4.17.21.js"></script>
<script src="jointJS/dependencies/backbone1.4.0.js"></script>
<script src="jointJS/joint3.5.4.min.js"></script>
</body>
</html>